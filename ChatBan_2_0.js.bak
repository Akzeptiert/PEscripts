const module = new Module("ChatBot_Ban2.0", true, true, ModuleCategory.MISC);

// Список слов для фильтрации (увеличено до 300 слов)
const badWords = [
    "блядь", "сука", "пидор", "хуй", "урод", "тупой", "дебил", "идиот", "козел", "мудила",
    "жопа", "гандон", "педик", "гнида", "сучка", "тварь", "пошел в жопу", "уродина", "петух",
    "сучар", "гондоны", "выебать", "залупа", "пизда", "хуесос", "отсосать", "похуист", "ебать",
    "сосать", "засос", "соска", "жопник", "ебливый", "охуел", "блядский", "курва", "гебня", "куриный",
    "лох", "педарас", "ебать", "дрочить", "ебанутый", "слепой", "пиздатый", "пидорский", "пидр",
    "сучий", "чмо", "чмоеб", "гандонить", "пшик", "придурок", "свиное", "блядовать", "голая жопа",
    "чисто ебаный", "шлюха", "псина", "бомж", "жертва", "пиздюк", "отстой", "ебаный", "ебучий", "покемон",
    "пиздуй", "в жопу", "на хуй", "нахуя", "нахер", "козлина", "ебанутые", "сучара", "покидать", "мразь",
    "пахать на хуй", "черножопый", "ебучий", "даун", "отморозок", "придурок", "запарить", "гад", "гуджон",
    "пидорасина", "задрот", "сикс", "клоун", "гомосек", "сучий сын", "морозилка", "петушка", "чипсинка",
    "непонятный", "потаскушка", "слипание", "дикарь", "передал", "заворачивать", "картонка", "сгущенка",
    "смотри как обрубило", "пресс", "трахать", "сраная", "ебальник", "пухлик", "шлюш", "сдох", "смешной",
    "сукин сын", "скажи что ты задрот", "выродок", "трахарь", "себя в гроб", "молодая тварь", "на раз два",
    "удалять", "блокировать", "в хлам", "по хуям", "ублюдок", "дурак", "тупоголовый", "моск", "надоебался",
    "запрещенный", "нахуй иди", "тупица", "псевдоумный", "глупый", "задроченный", "насильник", "глупое",
    "наглость", "тряпка", "противный", "проебал", "какая блядь", "пиздец", "слабак", "передоз", "жалкое",
    "нехорошо", "потаскать", "косить", "слипнуться", "ебашить", "кричать", "перебирать", "кикать", "драчун",
    "ублюдок", "позор", "воробей", "тупая мразь", "соси жопу", "пикап", "петухобрат", "трахнул", "фуражка",
    "затрахать", "откровенно", "ебло", "свинья", "ебанный рот", "хабал", "мутная", "покажись в живую", "шалава",
    "рогатый", "козел", "быдло", "мутант", "упырь", "паршивец", "скакун", "козлятина", "упырь",
    "мошка", "дрищ", "трепло", "вибратор", "бесполезный", "покер", "какашка", "букашка", "ссать", "обоссать",
    "чмошник", "пустое место", "сранец", "пердеть", "тростник", "шквар", "неадекват", "поехавший", "нехороший",
    "помойка", "мусорка", "пинать", "мудрить", "шпилька", "непростой", "калаш", "иди в лес", "гадюшник",
    "молоко ебаное", "капеник", "негр", "шарик", "сука ты", "паскуда", "пикапер", "вшивый", "долбоеб", "балван",
    "колдун", "гнильё", "черта", "лузер", "влезать", "голос сраный", "болтун", "голый", "торчок", "вредитель",
    "свинарник", "закосить", "лопух", "оболтус", "гребаный", "инвалид", "жрать", "выжатый", "покопайся",
    "растерзать", "порвать", "выбросить", "непроходимо", "толстяк", "свин", "глупый мудак", "пожилое говно",
    "корова", "привязан", "дерьмо", "поработить", "первичный", "зомби", "нажраться", "перхоть", "негодяй",
    "блядство", "блядовать", "сучара", "поганый", "сука ебучая", "гниль", "сраный", "гад", "поебень", 
    "всратый", "задохлик", "педофил", "ебаный рот", "колхоз", "мудила", "долбаеб", "псина ебаная", "взял в рот", 
    "самка", "огурец", "помоечник", "лопушок", "мочить", "всрат", "поганец", "чисто сраный", "пиздюк", 
    "стервятник", "долбануть", "раздевать", "трахаться", "пацан ебаный", "гнильца", "сучий син", "ублюдочный", 
    "пиздос", "слизняк", "хребет ебучий", "наебал", "наебщик", "понос", "пососи", "тряпочка", "долговязый", 
    "муторный", "какашки", "типа пидор", "обосранный", "сучка ебаная", "путанка", "мудозвон", "мразота", 
    "поставить в угол", "плохо", "сука ты", "залупа", "бляди", "иудиот", "жирдяй", "курва сраная", "хрен", 
    "сосущий", "мишка", "ебала тварь", "хуячил", "сраная сука", "мудришь", "художник пидор", "типа скинул", 
    "сошел с ума", "псих", "самотык", "поганая душа", "сучатина", "космический", "огонь", "конченый", "залупиться",
    "халява", "серьезная сука", "мразь с бляди", "блядский", "фетиш", "херня", "сучин сын", "пригожий", "обоссан",
    "пердун", "поставь в угол", "пошел на хуй", "инвалид", "выебывать", "поглощать", "сосать на работе", "мразишка", 
    "картель", "дрочить по хардкору", "срака", "мудняк", "тунеядец", "отсосал", "смердить", "неудачник", "петушары", 
    "раскольник", "поганые уроды", "жирная пысь", "петушок", "включить на говно", "пошел ебать", "внешний вид", 
    "цугундер", "гнида ты", "сильно сказано", "разговаривать о жопе", "трахай меня", "поднять жопу", "жрешь говно",
    "ненависть", "сука мразь", "жопорез", "толстяк", "до хера", "обоссаться", "припиздишься", "выебался", "слизняк ебаный",
    "клево", "цирк", "сука тупая", "запрет", "блядище", "поехавший на всю голову", "ебать за всех", "колдует", "нечем ебаться", 
    "задолбал", "замедлить", "вообщем", "конченые", "сало", "заебись", "парень ебаный", "в прямом эфире", "со странным",
   "быдловатый", "поцарапал", "срочняк", "жужжит", "первичка", "суета", "иудище", "мудозвонить", "похвастался", 
    "поглотить", "катить в баню", "посмотри в глаза", "мошки", "позорный", "бычить", "обогнать", "пососи хуй"
];

// Функция для очистки сообщения от форматирования
function cleanMessage(message) {
    return message.replace(/\§[0-9A-FK-OR]/ig, "").toLowerCase();
}

// Функция для проверки, содержит ли сообщение мат или оскорбления
function containsBadWords(message) {
    let cleanMsg = cleanMessage(message);
    for (let word of badWords) {
        if (cleanMsg.includes(word)) {
            return true; // Если слово найдено, возвращаем true
        }
    }
    return false; // Если не нашли запрещенных слов
}

// Функция обработки входящих сообщений
function onReceiveServerMessage(message) {
    if (module.isActive()) {
        if (containsBadWords(message)) {
        const cleanedMessage = cleanMessage(message);

        // Находим двоеточие и извлекаем слово слева от него
        const colonIndex = cleanedMessage.indexOf(":");
        if (colonIndex !== -1) {
            const beforeColon = cleanedMessage.substring(0, colonIndex).trim();
            const parts = beforeColon.split(" ");
            const playerName = parts[parts.length - 1]; // Последнее слово перед двоеточием
            if (playerName) {
            print("Ник нарушителя: " + playerName);
            LocalPlayer.sendChatMessage("/ban " + playerName + " Найдено оскорбление в сообщении: " + message);
            } else {
            print("Неудалось извлечь ник.")
            }
            // Здесь можно заблокировать, отреагировать или удалить сообщение
        }
    }
}

function onScriptEnabled() {
    ModuleManager.addModule(module);
}

function onScriptDisabled() {
    ModuleManager.removeModule(module);
}